/* Modern CSS Reset */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-size: 100%; /* Base font size, often 16px */
}
body {
    font-family: var(--font-family-sans);
    color: var(--text-primary); 
    background-color: var(--background-solid); /* Fallback */
    background-image: linear-gradient(to bottom right, var(--background-gradient-start), var(--background-gradient-end));
    font-weight: var(--font-weight-regular);
    line-height: 1.65; 
    margin: 0; 
    padding: 0; 
    min-height: 100vh; 
    scroll-behavior: smooth; 
}
img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
}
input, button, textarea, select {
    font: inherit;
}
p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
}
/* End Modern CSS Reset */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
    /* Background Gradient (Ash Grays) */
    --background-gradient-start: #E8E8ED; /* Light cool ash */
    --background-gradient-end: #D9D9E1;   /* Slightly darker cool ash */
    /* Fallback solid background if gradients not supported (less critical for modern browsers) */
    --background-solid: var(--background-gradient-start);

    /* Text Colors (for readability on lighter backgrounds) */
    --text-primary: #222225;        /* Very dark gray, near black */
    --text-secondary: #555558;      /* Medium-dark gray */
    --text-on-metallic-dark: #F5F5F7; /* Light text for dark metallic surfaces */

    /* Metallic/Silver Palette (for gradients & elements) */
    --silver-highlight: #FFFFFF;    /* Brightest white for highlights */
    --silver-shine: #F0F0F5;       /* Off-white, for a broader shine */
    --silver-light: #D8D8E0;       /* Light silver, main body of light metallic */
    --silver-mid: #B8B8C8;         /* Mid-tone silver, for shadows on light silver or body of darker */
    --silver-dark: #9090A0;        /* Darker silver, for contrast or darker metallic elements */
    --silver-deep-shadow: #707080; /* For creating deep contrast on metallic */
    
    /* Accents & Effects (Monochrome) */
    --glow-color: rgba(255, 255, 255, 0.7); /* White glow */
    --glow-color-strong: rgba(255, 255, 255, 1);
    --border-color-metallic-light: var(--silver-mid);   /* For borders on light metallic elements */
    --border-color-metallic-dark: var(--silver-light);  /* For borders on dark metallic elements */
    --border-color-subtle: #C0C0C0; /* A general subtle border for UI elements */

    /* Typography (Keeping Inter) */
    --font-family-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-weight-light: 300;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* Spacing & Radius (can be kept or adjusted slightly) */
    --spacing-unit: 8px;
    --border-radius-small: 6px;
    --border-radius-medium: 12px;
    --border-radius-large: 16px; /* Good for futuristic boxes */

    /* Shadows (redefined for lighter theme & metallic feel) */
    /* These will be more about creating depth and less about dark smudges */
    --shadow-color-base: rgba(0, 0, 0, 0.1); /* Softer shadow base for light theme */
    --shadow-metallic-soft: 0 2px 5px var(--shadow-color-base);
    --shadow-metallic-medium: 0 5px 15px var(--shadow-color-base);
    --shadow-metallic-strong: 0 10px 25px var(--shadow-color-base);
    
    /* For inset shadows to give "pressed" or "engraved" look */
    --inset-shadow-light: inset 0 1px 2px rgba(255,255,255,0.7), inset 0 -1px 2px rgba(0,0,0,0.1);
    --inset-shadow-dark: inset 0 1px 2px rgba(0,0,0,0.2), inset 0 -1px 1px rgba(255,255,255,0.3);


    /* Transitions (can be kept) */
    --transition-fast: all 0.15s ease-in-out;
    --transition-normal: all 0.25s ease-in-out;
    --transition-slow: all 0.4s ease-in-out;
}

/* Main Layout & Container */
.container {
    width: 90%;
    max-width: 1200px; 
    margin: 0 auto;
    padding: calc(var(--spacing-unit) * 3) calc(var(--spacing-unit) * 2); /* 24px 16px */
}

/* Typography Scale & Base Styles (High-Contrast Smooth Modern Theme) */
h1, h2, h3, h4, h5, h6 {
    color: var(--text-primary); 
    font-family: var(--font-family-sans);
    line-height: 1.3;
    margin-top: calc(var(--spacing-unit) * 3);    
    margin-bottom: calc(var(--spacing-unit) * 2); 
}

h1 { /* Main Page Title - "My Job Feed" */
    font-size: 3rem; 
    font-weight: var(--font-weight-bold);
    color: var(--text-primary); 
    text-align: center;
    margin-top: calc(var(--spacing-unit) * 4); 
    margin-bottom: calc(var(--spacing-unit) * 5);
    padding-bottom: var(--spacing-unit);
    text-shadow: none; 
}

h2 { /* Section titles */
    font-size: 2rem; /* 32px */
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    border-bottom: 1px solid var(--border-color-subtle); 
    padding-bottom: var(--spacing-unit);
    margin-bottom: calc(var(--spacing-unit) * 3);
}

h3 { /* Sub-section titles */
    font-size: 1.5rem; /* 24px */
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
}

p {
    color: var(--text-secondary); 
    font-size: 1rem; 
    line-height: 1.65; 
    margin-bottom: calc(var(--spacing-unit) * 1.5); 
}

.text-primary { 
    color: var(--text-primary);
}

a {
    color: var(--text-primary); 
    font-weight: var(--font-weight-medium); 
    text-decoration: none; 
    border-bottom: 1px solid var(--silver-mid); 
    padding-bottom: 1px; 
    transition: color var(--transition-fast), border-color var(--transition-fast);
}

a:hover, a:focus {
    color: var(--text-secondary); 
    border-bottom-color: var(--silver-dark); 
    outline: none; 
}

.text-small { 
    font-size: 0.875rem; 
    color: var(--text-secondary);
}

/* Specific Component Text Refinements (High-Contrast Smooth Modern Theme) */

/* --- Dark Panels & Containers --- */
.controls-container,
#resume-creator-content,
#jobs-table, /* The table as a whole panel/card */
#stats-container {
    background: linear-gradient(to bottom, 
        var(--panel-bg-start), 
        var(--panel-bg-end));
    color: var(--text-on-dark-secondary); /* Default text color for p tags etc. inside panels */
    border: 1px solid var(--panel-border-color);
    border-radius: var(--border-radius-large); 
    padding: calc(var(--spacing-unit) * 3); 
    box-shadow: var(--shadow-medium); /* Subtle shadow for dark panel on light body */
    
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
}

/* New subtle hover effect for dark panels */
.controls-container:hover,
#resume-creator-content:hover,
#jobs-table:hover,
#stats-container:hover {
    border-color: var(--silver-mid); /* Brighter border on hover (using a silver tone for contrast) */
    box-shadow: var(--shadow-strong), 0 0 10px var(--glow-color); /* Slightly stronger shadow + very subtle silver/light glow */
    transform: none; /* Explicitly remove any previous transform on hover */
    /* Subtle background brightness change */
    background: linear-gradient(to bottom, 
        color-mix(in srgb, var(--panel-bg-start) 90%, white 10%), 
        color-mix(in srgb, var(--panel-bg-end) 90%, white 10%));
}

/* Ensure headings and strong text within these panels use the primary light text color */
.controls-container h2, .controls-container legend, .controls-container strong,
#resume-creator-content h2, #resume-creator-content strong,
#jobs-table th, 
#stats-container strong {
    color: var(--text-on-dark-primary);
}
.controls-container .control-group label { /* Labels within controls */
    color: var(--text-on-dark-secondary);
}
/* --- End Dark Panels & Containers --- */

/* Stats Container Specifics */
.stats-container { 
    /* Common panel styles are applied above */
    /* Overwrite padding from common rule if specific is needed */
    padding: calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 3); 
    margin-bottom: calc(var(--spacing-unit) * 4); /* Preserved from original */
    text-align: center; /* Preserved from original */
    font-size: 0.9rem; /* Preserved from original */
    /* color is var(--text-on-dark-secondary) from common rule */
    /* background, border, box-shadow, transition are from common rule */
    /* Previous specific hover effect is removed, now uses common panel hover */
}
/* .stats-container strong is handled by common rule */


/* --- Overhauled Scraper Controls --- */
.controls-container { /* This is a fieldset in HTML */
    /* Common panel styles are applied via the rule under "Dark Panels & Containers" */
    /* This rule block should now only contain specifics not covered by common panel style,
       or overrides if necessary. Sticky positioning is handled in a separate rule further down. */
    margin-bottom: calc(var(--spacing-unit) * 4); /* Preserving specific margin */
    /* Padding is calc(var(--spacing-unit) * 3) from common rule, which is the same as before. */
    /* Previous background, border, box-shadow, color, and transition are now from common panel style. */
    /* Previous hover effect is also from common panel :hover style. */
}
/* The .controls-container:hover rule that was here is now covered by the common panel hover rule */

.controls-container legend {
    font-size: 1.25rem; /* 20px */
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    padding: 0 calc(var(--spacing-unit) * 2); /* Horizontal padding */
    margin-left: calc(var(--spacing-unit) * 1); /* Align with content padding */
    /* Resetting any default browser legend styling */
    display: block; /* Or inline-block, depending on desired flow */
    width: auto; /* Ensure it doesn't take full width if not intended */
    border-bottom: none; /* Remove any default lines */
}

.controls-container .control-group label {
    display: block; 
    color: var(--text-secondary);
    font-size: 0.875rem; /* 14px */
    font-weight: var(--font-weight-medium);
    margin-bottom: var(--spacing-unit); /* 8px */
}

.controls-container select {
    width: 100%;
    background-color: var(--background-primary); 
    color: var(--text-primary);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-small);
    padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 1.5); /* 10px 12px */
    font-size: 0.9rem;
    appearance: none; 
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23A0A0A5'%3E%3Cpath d='M8 11.293l-4.146-4.147a.5.5 0 0 1 .708-.708L8 9.879l3.438-3.438a.5.5 0 0 1 .707.707L8 11.293z'/%3E%3C/svg%3E"); /* Using --text-on-dark-secondary for arrow */
    background-repeat: no-repeat;
    background-position: right calc(var(--spacing-unit) * 1.5) center;
    background-size: 1em;
    cursor: pointer;
    /* transition is on the base selector */
}
.controls-container select:focus {
    outline: none;
    border-color: var(--silver-light); /* Bright silver/light border on focus */
    box-shadow: 0 0 8px 2px var(--input-focus-glow-on-dark); /* Subtle light glow */
}

.controls-container input[type="number"] {
    width: 80px; 
    background-color: var(--input-bg-on-dark); 
    color: var(--text-on-dark-primary); 
    border: 1px solid var(--input-border-on-dark);
    border-radius: var(--border-radius-small);
    padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 1.5); 
    font-size: 0.9rem;
    margin-right: var(--spacing-unit); 
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}
.controls-container input[type="number"]:focus {
    outline: none;
    border-color: var(--silver-light); 
    box-shadow: 0 0 8px 2px var(--input-focus-glow-on-dark); 
}

.controls-container .radio-group {
    display: flex;
    gap: calc(var(--spacing-unit) * 2); /* 16px */
    align-items: center;
    flex-wrap: wrap; /* Allow radios to wrap on smaller screens */
}
.controls-container .radio-group input[type="radio"] {
    opacity: 0; 
    width: 0;
    height: 0;
    position: absolute;
}
.controls-container .radio-group label { /* Label for the radio */
    position: relative;
    padding-left: calc(var(--spacing-unit) * 3.5); /* 28px, space for custom radio */
    cursor: pointer;
    font-size: 0.9rem;
    color: var(--text-secondary); 
    transition: var(--transition-fast);
    margin-bottom: 0; /* Override .control-group label margin if it was more specific */
    line-height: 1.5; /* Ensure consistent vertical alignment */
    user-select: none; /* Prevent text selection on click */
}
.controls-container .radio-group label::before { /* Custom radio circle */
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    border: 2px solid var(--input-border-on-dark);
    border-radius: 50%;
    background-color: var(--input-bg-on-dark); /* Match input background */
    transition: var(--transition-fast);
}
.controls-container .radio-group label:hover::before {
    border-color: var(--silver-light); /* Brighter border on hover */
}
.controls-container .radio-group input[type="radio"]:checked + label {
    color: var(--text-on-dark-primary); /* Brighter label when selected */
}
.controls-container .radio-group input[type="radio"]:checked + label::before {
    border-color: var(--silver-light); /* Bright border when checked */
    background-color: var(--silver-light); /* Filled with bright silver/light */
}
.controls-container .radio-group input[type="radio"]:checked + label::after { /* Inner dot */
    content: '';
    position: absolute;
    left: 5px; 
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--input-bg-on-dark); /* Dark dot on light fill */
}
.controls-container .radio-group input[type="radio"]:focus-visible + label::before {
    outline: 2px solid var(--silver-light); 
    outline-offset: 2px;
    box-shadow: 0 0 5px var(--input-focus-glow-on-dark);
}


.controls-grid { /* Redefining .controls-grid for new layout */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
    gap: calc(var(--spacing-unit) * 2.5); /* 20px */
    align-items: end; 
    margin-bottom: calc(var(--spacing-unit) * 3); /* 24px, increased margin */
}
.control-group {
    /* Individual group styling if needed, e.g., margin-bottom if not last in a row */
}

.scrape-action-bar { /* Assuming this is a direct child of .controls-container or .controls-grid */
    grid-column: 1 / -1; /* Make this container span full width if child of grid */
    margin-top: calc(var(--spacing-unit) * 2); /* Add space above the button area */
    border-top: 1px solid var(--border-color); /* Separator line */
    padding-top: calc(var(--spacing-unit) * 3); /* 24px, more padding */
}

#scrape-button {
    font-family: var(--font-family-sans);
    font-weight: var(--font-weight-medium);
    border-radius: var(--border-radius-medium);
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
    cursor: pointer;
    transition: var(--transition-normal);
    text-align: center;
    color: var(--text-primary);
    font-family: var(--font-family-sans);
    font-weight: var(--font-weight-medium);
    border-radius: var(--border-radius-medium); /* Standardized radius */
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
    cursor: pointer;
    transition: background var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
    text-align: center;
    color: var(--button-silver-text); /* Dark text on silver button */
    
    background: linear-gradient(to bottom, 
        var(--button-silver-bg-start), 
        var(--button-silver-bg-end));
    border: 1px solid var(--button-silver-border);
    box-shadow: 0 1px 2px rgba(0,0,0,0.05), /* Softer shadow for light buttons */
                inset 0 1px 1px var(--silver-highlight); /* Inner top highlight */
    text-shadow: 0 1px 0px rgba(255,255,255,0.4); /* Subtle light text emboss */
    display: inline-block; 
    min-width: 220px; /* Adjusted min-width */
    width: auto; 
}
#scrape-button:hover:not(:disabled) {
    background: linear-gradient(to bottom, 
        var(--button-silver-hover-bg-start), 
        var(--button-silver-hover-bg-end)); /* Slightly brighter */
    border-color: var(--silver-mid); /* Slightly darker border on hover */
    box-shadow: 0 2px 4px rgba(0,0,0,0.08), 
                inset 0 1px 1px var(--silver-highlight),
                0 0 5px var(--glow-color); /* Subtle glow */
    transform: none; /* Remove previous translateY */
}
#scrape-button:active:not(:disabled) {
    background: linear-gradient(to bottom, 
        var(--button-silver-active-bg-start), 
        var(--button-silver-active-bg-end)); /* Pressed look */
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
    transform: none; /* Remove previous translateY */
}
#scrape-button:disabled {
    background: var(--silver-light);
    color: var(--text-secondary); 
    opacity: 0.7;
    cursor: not-allowed;
    box-shadow: none;
    border-color: var(--silver-mid);
}

#scrape-status {
    font-size: 0.875rem; /* 14px */
    color: var(--text-secondary);
    text-align: center; 
    margin-top: calc(var(--spacing-unit) * 1.5); /* 12px */
    min-height: 1.2em; /* Reserve space to prevent layout shift */
}

/* --- End Overhauled Scraper Controls --- */

/* Styling for the new Scraped On column */
.scraped-on-col {
    font-size: 0.85rem; /* Consistent with other table text */
    color: var(--text-secondary); 
    white-space: nowrap; 
}

/* --- Resume Creator Tab Styles (Overhauled) --- */
#resume-creator-content {
    /* Common panel styles are applied by the rule above */
    /* Specific layout properties preserved below */
    margin-top: 290px; /* PRESERVE STICKY OFFSET - RE-VERIFY THIS VALUE */
    margin-bottom: calc(var(--spacing-unit) * 4);
    /* padding is calc(var(--spacing-unit) * 3) from common rule */
}
/* #resume-creator-content:hover is handled by common panel hover rule */

#resume-creator-content h2 {
    /* color: var(--text-on-dark-primary) from common rule */
    /* Global h2 styles for font-size, weight, padding-bottom are fine */
    margin-top: 0; 
    margin-bottom: calc(var(--spacing-unit) * 4); 
    border-bottom-color: var(--panel-border-color); /* Use panel border for h2 underline */
}

#job-description-input {
    width: 100%;
    min-height: 200px; 
    background-color: var(--input-bg-on-dark); 
    color: var(--text-on-dark-primary); 
    border: 1px solid var(--input-border-on-dark);
    border-radius: var(--border-radius-medium);
    padding: calc(var(--spacing-unit) * 2);
    min-height: 200px; 
    resize: vertical; 
    width: 100%; 
    font-size: 0.95rem; /* from previous */
    line-height: 1.6; /* from previous */
    margin-bottom: calc(var(--spacing-unit) * 3); /* from previous */
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}
#job-description-input:focus {
    outline: none;
    border-color: var(--silver-light); 
    box-shadow: 0 0 8px 2px var(--input-focus-glow-on-dark); 
}
#job-description-input::placeholder {
    color: var(--text-on-dark-secondary); 
    opacity: 0.8;
}

#generate-resume-cv-button {
    font-family: var(--font-family-sans);
    font-weight: var(--font-weight-medium);
    border-radius: var(--border-radius-medium); /* Standardized radius */
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
    cursor: pointer;
    transition: background var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
    text-align: center;
    color: var(--button-silver-text); 
    
    background: linear-gradient(to bottom, 
        var(--button-silver-bg-start), 
        var(--button-silver-bg-end));
    border: 1px solid var(--button-silver-border);
    box-shadow: 0 1px 2px rgba(0,0,0,0.05), 
                inset 0 1px 1px var(--silver-highlight); 
    text-shadow: 0 1px 0px rgba(255,255,255,0.4); 
    display: block; 
    width: 100%; 
    margin-bottom: calc(var(--spacing-unit) * 2); /* Added margin */
}
#generate-resume-cv-button:hover:not(:disabled) {
    background: linear-gradient(to bottom, 
        var(--button-silver-hover-bg-start), 
        var(--button-silver-hover-bg-end)); 
    border-color: var(--silver-mid); 
    box-shadow: 0 2px 4px rgba(0,0,0,0.08), 
                inset 0 1px 1px var(--silver-highlight),
                0 0 5px var(--glow-color); 
    transform: none; 
}
#generate-resume-cv-button:active:not(:disabled) {
    background: linear-gradient(to bottom, 
        var(--button-silver-active-bg-start), 
        var(--button-silver-active-bg-end)); 
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
    transform: none; 
}
#generate-resume-cv-button:disabled {
    background: var(--silver-light);
    color: var(--text-secondary); 
    opacity: 0.7;
    cursor: not-allowed;
    box-shadow: none;
    border-color: var(--silver-mid);
}

#resume-creator-status {
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2); /* 12px 16px */
    margin-top: calc(var(--spacing-unit) * 3); /* 24px */
    margin-bottom: calc(var(--spacing-unit) * 3); /* 24px */
    border-radius: var(--border-radius-medium);
    font-size: 0.9rem;
    text-align: center;
    border: 1px solid transparent; 
    background-color: var(--background-secondary); 
    color: var(--text-secondary); 
    min-height: calc(1em * 1.6 + var(--spacing-unit) * 1.5 * 2 + 2px); 
    display: flex; 
    align-items: center;
    justify-content: center;
    transition: var(--transition-normal);
}
#resume-creator-status.status-success {
    background-color: color-mix(in srgb, var(--success-color) 20%, var(--background-secondary)); 
    color: var(--success-color);
    border-color: var(--success-color);
}
#resume-creator-status.status-error {
    background-color: color-mix(in srgb, var(--error-color) 20%, var(--background-secondary)); 
    color: var(--error-color);
    border-color: var(--error-color);
}
#resume-creator-status.status-loading { 
    background-color: color-mix(in srgb, var(--accent-primary) 15%, var(--background-secondary));
    color: var(--accent-primary);
    border-color: var(--accent-primary);
}

#pdf-preview-area {
    margin-top: calc(var(--spacing-unit) * 4); /* 32px */
    background-color: var(--background-primary); 
    padding: var(--spacing-unit); 
    border-radius: var(--border-radius-large); 
    /* box-shadow: 0 0 10px rgba(0,0,0,0.3) inset; */ /* Removed undefined var(--shadow-inner) */
    /* Inner div with display:flex is styled inline in jobs.html */
}

#pdf-preview-area iframe {
    /* width, height are set inline via style attribute in HTML */
    border: 1px solid var(--border-color); 
    border-radius: var(--border-radius-medium); 
    box-shadow: var(--shadow-small); 
}
/* --- End Resume Creator Tab Styles (Overhauled) --- */

/* --- Jobs Table Styles --- */
#jobs-table {
    /* Common panel styles are applied by the rule above */
    width: 100%;
    border-collapse: separate; 
    border-spacing: 0; 
    overflow: hidden; 
    margin-top: calc(var(--spacing-unit) * 3);
    padding: 0; /* Override common panel padding */
    /* Specific text color for table is set in td */
}
/* #jobs-table:hover specific hover is defined in common panel hover rule */


#jobs-table thead tr {
    background-color: color-mix(in srgb, var(--panel-bg-start) 85%, var(--panel-bg-end) 15%); 
    border-bottom: 1px solid var(--panel-border-color);
}

#jobs-table th {
    /* color: var(--text-on-dark-primary) from common rule */
    font-weight: var(--font-weight-semibold); /* from previous theme */
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2); 
    text-align: left;
    text-transform: uppercase; /* from previous theme */
    font-size: 0.8rem;        /* from previous theme */
    letter-spacing: 0.5px;  /* from previous theme */
    /* border-bottom is handled by thead tr */
}

#jobs-table tbody tr {
    border-bottom: 1px solid var(--panel-border-color); 
    transition: background-color var(--transition-fast); 
}

#jobs-table tbody tr:last-child {
    border-bottom: none;
}

#jobs-table tbody tr:hover {
    background-color: var(--input-bg-on-dark); 
}

#jobs-table td {
    color: var(--text-on-dark-secondary); 
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2); 
    vertical-align: middle;
}


#jobs-table td a { 
    color: var(--silver-light); 
    font-weight: var(--font-weight-medium);
    border-bottom: 1px solid transparent; 
}
#jobs-table td a:hover {
    border-bottom-color: var(--silver-light); 
}

#jobs-table .company-name { 
    font-size: 0.85rem;
    color: var(--text-on-dark-secondary); 
    margin-top: calc(var(--spacing-unit) * 0.25); 
    display: block; 
}

#jobs-table .badge { 
    background-color: var(--input-bg-on-dark); 
    color: var(--text-on-dark-secondary);
    border: 1px solid var(--panel-border-color);
    display: inline-block;
    padding: calc(var(--spacing-unit) * 0.5) var(--spacing-unit); 
    font-size: 0.75rem; 
    font-weight: var(--font-weight-semibold);
    border-radius: var(--border-radius-small);
    line-height: 1; 
}

#loading-spinner {
    width: 40px; 
    height: 40px; 
    border: 4px solid var(--input-border-on-dark); 
    border-top-color: var(--silver-light); 
    border-radius: 50%;
    animation: spin 1s linear infinite; 
    margin: calc(var(--spacing-unit) * 5) auto; 
}

/* If spin animation is not defined globally, add a basic one */
@keyframes spin {
    to { transform: rotate(360deg); }
}
/* --- End Jobs Table Styles --- */

/* Sticky Header (Controls) and Tabs Styles */
/* Note: The 'top' values and content padding/margins are estimates */
/* and may need fine-tuning based on actual rendered heights. */

.controls-container { /* This rule is for STICKY properties primarily */
    position: sticky;
    top: 0; 
    z-index: 1000; 
    /* Visuals like background, padding, border, box-shadow, margin-bottom 
       are handled by the .controls-container rule under "Dark Panels & Containers" */
}

/* --- Overhauled Tab Navigation --- */
.tab-container {
    position: sticky; 
    top: 220px; /* Must match the re-evaluated height of .controls-container */
    background-color: var(--background-secondary); 
    z-index: 999; 
    padding: calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 2); /* 4px 16px */
    box-shadow: var(--shadow-small); 
    border-top: 1px solid var(--border-color);
    border-bottom: 1px solid var(--border-color); 
    display: flex;
    justify-content: center;
    gap: var(--spacing-unit); /* 8px */
}

.tab-link {
    font-family: var(--font-family-sans);
    font-size: 0.95rem; 
    font-weight: var(--font-weight-medium);
    color: var(--text-secondary); 
    background-color: transparent;
    border: none; 
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2.5); /* 12px 20px */
    cursor: pointer;
    transition: color var(--transition-fast), border-color var(--transition-fast);
    border-bottom: 3px solid transparent; 
    margin-bottom: -1px; /* Aligns with .tab-container's border-bottom */
    border-radius: var(--border-radius-small) var(--border-radius-small) 0 0; 
}

.tab-link:hover {
    color: var(--text-primary);
    border-bottom-color: var(--text-secondary); 
}

.tab-link.active {
    color: var(--accent-primary);
    font-weight: var(--font-weight-semibold);
    border-bottom-color: var(--accent-primary); 
}
/* --- End Overhauled Tab Navigation --- */

/* --- Jobs Table Styles --- */
#jobs-table {
    /* Common panel styles are applied via the rule under "Dark Panels & Containers" */
    width: 100%;
    border-collapse: separate; /* Use separate for modern look if border-spacing is added */
    border-spacing: 0; 
    overflow: hidden; 
    margin-top: calc(var(--spacing-unit) * 3);
    padding: 0; /* Override common panel padding, cell padding will handle it */
    /* Visuals like background, border, shadow, color, transition are from common panel style */
    /* Specific text color for table cells is set in td and th below */
}
/* The #jobs-table:hover rule is now covered by the common panel hover rule */

#jobs-table thead tr {
    background-color: color-mix(in srgb, var(--panel-bg-start) 85%, var(--panel-bg-end) 15%); 
    border-bottom: 1px solid var(--panel-border-color);
}

#jobs-table th {
    /* color: var(--text-on-dark-primary) from common panel text rule */
    font-weight: var(--font-weight-semibold); 
    padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2); 
    text-align: left;
    text-transform: uppercase; 
    font-size: 0.8rem;        
    letter-spacing: 0.5px;  
    /* border-bottom is handled by thead tr */
}

#jobs-table tbody tr {
    border-bottom: 1px solid var(--panel-border-color); 
    transition: background-color var(--transition-fast); 
}

#jobs-table tbody tr:last-child {
    border-bottom: none;
}

#jobs-table tbody tr:hover {
    background-color: color-mix(in srgb, var(--background-secondary) 95%, var(--text-primary) 5%); /* Even more subtle hover */
}

/* #jobs-table td {
    color: var(--text-secondary);
    padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2); 
    vertical-align: middle;
    border-bottom: 1px dashed var(--border-color); 
}
#jobs-table tbody tr:last-child td {
    border-bottom: none;
} */
/* Decided to stick to solid borders on TR, so individual TD bottom borders are not needed. */
#jobs-table td {
    color: var(--text-secondary);
    padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2); /* 10px 16px */
    vertical-align: middle;
}


#jobs-table td a {
    color: var(--accent-primary);
    font-weight: var(--font-weight-medium);
    text-decoration: none; /* Base style already sets this, but reinforce */
}
#jobs-table td a:hover {
    text-decoration: underline;
    filter: brightness(1.2); /* Base style already sets this */
}

#jobs-table .company-name { /* Class for company name under job title */
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-top: calc(var(--spacing-unit) * 0.25); /* 2px */
    display: block; /* Ensure it takes its own line if needed */
}

#jobs-table .action-btn {
    font-family: var(--font-family-sans);
    font-weight: var(--font-weight-medium);
    border-radius: var(--border-radius-small); /* Standardized radius */
    padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5); /* Smaller padding */
    cursor: pointer;
    transition: background var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
    text-align: center;
    color: var(--button-silver-text); 
    
    background: linear-gradient(to bottom, 
        var(--button-silver-bg-start), 
        var(--button-silver-bg-end));
    border: 1px solid var(--button-silver-border);
    box-shadow: 0 1px 2px rgba(0,0,0,0.05), 
                inset 0 1px 1px var(--silver-highlight); 
    text-shadow: 0 1px 0px rgba(255,255,255,0.4); 
    display: inline-block; 
    min-width: 80px; /* Adjusted */
}

#jobs-table .action-btn:hover:not(:disabled) {
    background: linear-gradient(to bottom, 
        var(--button-silver-hover-bg-start), 
        var(--button-silver-hover-bg-end)); 
    border-color: var(--silver-mid); 
    box-shadow: 0 2px 4px rgba(0,0,0,0.08), 
                inset 0 1px 1px var(--silver-highlight),
                0 0 5px var(--glow-color); 
    transform: none; 
}

#jobs-table .action-btn:active:not(:disabled) {
    background: linear-gradient(to bottom, 
        var(--button-silver-active-bg-start), 
        var(--button-silver-active-bg-end)); 
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
    transform: none; 
}

#jobs-table .action-btn:disabled {
    background: var(--silver-light);
    color: var(--text-secondary); 
    opacity: 0.7;
    cursor: not-allowed;
    box-shadow: none;
    border-color: var(--silver-mid);
}

#jobs-table .action-btn.applied {
    /* Inherits silver style by default now. Override if green is desired */
    /* background: linear-gradient(to bottom, color-mix(in srgb, var(--success-color) 80%, white), var(--success-color)); */
    /* color: var(--text-on-dark-primary); */ /* If keeping green, text should be light */
    /* border-color: color-mix(in srgb, var(--success-color) 70%, black); */
    /* text-shadow: 0 1px 0px color-mix(in srgb, var(--success-color) 50%, white); */
}
/* Remove specific hover for .applied if it's just silver now */
/* #jobs-table .action-btn.applied:hover:not(:disabled) {
   background: linear-gradient(to top, color-mix(in srgb, var(--success-color) 80%, white) 0%, var(--success-color) 100%);
   box-shadow: 0 2px 3px rgba(0,0,0,0.15), 0 0 8px color-mix(in srgb, var(--success-color) 50%, transparent);
} */


#jobs-table .badge {
    display: inline-block;
    padding: calc(var(--spacing-unit) * 0.5) var(--spacing-unit); /* 4px 8px */
    font-size: 0.75rem; /* 12px */
    font-weight: var(--font-weight-semibold);
    border-radius: var(--border-radius-small);
    background-color: var(--background-primary); 
    color: var(--text-secondary);
    border: 1px solid var(--border-color);
    line-height: 1; /* Ensure consistent height */
}

#loading-spinner {
    /* Assuming it's a border-based spinner, styles from HTML: class="spinner" */
    /* Spinner class might be defined in HTML or JS, target ID for overrides */
    width: 40px; /* Example size */
    height: 40px; /* Example size */
    border: 4px solid var(--border-color); /* Light part of the circle */
    border-top-color: var(--accent-primary); /* Active color */
    border-radius: 50%;
    animation: spin 1s linear infinite; /* Assuming 'spin' animation is defined elsewhere or add it */
    margin: calc(var(--spacing-unit) * 5) auto; /* Centered, with margin */
}

/* If spin animation is not defined globally, add a basic one */
@keyframes spin {
    to { transform: rotate(360deg); }
}
/* --- End Jobs Table Styles --- */

/* Adjust main content areas to prevent overlap with sticky elements */
/* Total estimated sticky height = 220px (controls) + 50px (tabs) = 270px. */
/* These values are adjusted based on the new estimate for .controls-container height. */

#jobs-content {
    /* Assuming #jobs-content previously had no specific top margin/padding related to layout */
    padding-top: 270px; 
}

#resume-creator-content {
    /* This element already has 'padding: 20px' and 'margin-top: 10px' (now overridden).
       We change margin-top to push the entire block down. Its internal padding remains. */
    margin-top: 270px; 
}


/* Modern CSS Reset */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
html {
    font-size: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}
body {
    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background: linear-gradient(to bottom right, #F9F9FB, #E5E5EB); 
    color: #1c1c1e;
    min-height: 100vh;
    padding: 2rem;
    line-height: 1.65;
}
img, video, canvas {
    display: block;
    max-width: 100%;
}
input, button, select, textarea {
    font: inherit;
}
p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
    color: #1c1c1e;
    margin-bottom: 0.75em;
}
h1 {
    font-size: 2.5rem;
    font-weight: 600;
    text-align: center;
    letter-spacing: -0.02em;
    color: #1c1c1e;
    margin-top: 1rem;
    margin-bottom: 2rem;
}
h2 {
    font-size: 1.75rem;
    font-weight: 500;
    padding-bottom: 0.25rem;
    border-bottom: 1px solid #d6d6da;
    margin-bottom: 1.5rem;
}
a {
    color: #007aff;
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: color 0.2s ease, border-color 0.2s ease;
}
a:hover {
    color: #005ec9;
    border-bottom-color: #005ec9;
}
button, .action-btn {
    border: none;
    background: linear-gradient(to bottom, #f7f7f9, #e5e5ea);
    padding: 0.6rem 1.2rem;
    border-radius: 10px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.06);
    color: #1c1c1e;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.2s ease;
}
button:hover, .action-btn:hover {
    background: #fafafc;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
/* Glassmorphism Panel */
.container, .controls-container, #jobs-table, #stats-container, #resume-creator-content {
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(8px) saturate(120%);
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: 0 6px 16px rgba(0,0,0,0.05);
    border: 1px solid rgba(200,200,200,0.3);
    margin-bottom: 1.5rem;
}
/* Form Controls */
input[type="text"], select, textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #d6d6da;
    border-radius: 8px;
    background: #ffffffcc;
    transition: border-color 0.2s ease;
}
input[type="text"]:focus, select:focus, textarea:focus {
    border-color: #007aff;
    box-shadow: 0 0 0 3px rgba(0,122,255,0.1);
    outline: none;
}
/* Tables */
table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0,0,0,0.03);
}
th, td {
    padding: 0.8rem 1rem;
    border-bottom: 1px solid #e8e8ea;
}
th {
    background: #f9f9fb;
    font-weight: 500;
    color: #555;
    text-align: left;
}
tr:hover {
    background: #fafafa;
}
/* Tabs */
.tab-container {
    background: #ffffffaa;
    border-radius: 12px;
    padding: 0.5rem;
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
}
.tab-link {
    padding: 0.5rem 1.25rem;
    border-radius: 8px;
    cursor: pointer;
    color: #555;
    font-weight: 500;
    background: transparent;
    border: none;
    transition: background 0.2s ease;
}
.tab-link:hover {
    background: #eaeaec;
}
.tab-link.active {
    background: #007aff;
    color: white;
}
